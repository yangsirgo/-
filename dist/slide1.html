<!doctype html><html><head><meta charset=UTF-8><title>图解HTTP - By 杨国超</title><link rel=stylesheet href=https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=https://cdn.staticfile.org/prism/1.15.0/themes/prism.min.css><link rel=stylesheet href=https://cdn.staticfile.org/KaTeX/0.10.0-rc.1/katex.min.css><link href=./css/chunk-vendors.4e4765ff.css rel=stylesheet></head><body><div><article id=webslides><section slide class=slide><div class=wrap wrap=true><img src=./img/logo.png style=width:128px;margin-bottom:30px;><h1>图解HTTP</h1><p style="font-size: 20px;margin-top: 50px;">内容摘自《图解HTTP》</p></div></section><section slide class=slide><div class=wrap wrap=true><h1>分享目标</h1><ul><li>WEB 及其网络的基础</li><li>了解WEB中涉及常用协议</li><li>确保Web安全的HTTPS</li></ul></div></section><section slide class=slide><div class=wrap wrap=true><h1>WEB 及其网络的基础</h1><h2>TCP/IP 分层管理</h2><ul><li><p>ISO制定的OSI参考模型的过于庞大、复杂招致了许多批评。与此对照，由技术人员自己开发的TCP/IP协议栈获得了更为广泛的应用。 <img src=./img/4-2.png alt=""></p></li><li><p>接下来的图，主要说明各个层的作用和各层涉及到协议：</p></li></ul></div></section><section slide class=slide><div class=wrap wrap=true><ul><li>应用层：直接为用户的应用进程（例如电子邮件、文件传输和终端仿真）提供服务。 <img src=./img/yingyong.png alt=""> 常用协议：DNS, Telnet, Http, FTP</li></ul></div></section><section slide class=slide><div class=wrap wrap=true><ul><li>传输层::负责向两个主机中进程之间的通信提供服务。</li><li>传输控制协议TCP(Transmission Control Protocol)</li></ul><ol><li>安全可靠，无差错，不丢失，仅支持一对一通信</li><li>链接三次握手，断开四次挥手。</li><li>缺点： 效率低</li><li>应用： 文件传输。</li></ol><ul><li>用户数据包协议UDP(User Datagram Protocol)</li></ul><ol><li>无连接，支持一对多，效率要求高，准确性相对低的场景，（视频会议、直播）</li></ol></div></section><section slide class=slide><div class=wrap wrap=true><ul><li>网络层：传输数据包。</li></ul><ol><li>IP,ARP,RARP</li><li><ul><li>使用ARP协议凭借MAC地址进行通信 IP间通信通信依赖MAC地址。通信的双方通常会经过多台计算机和网络设备中转才能连接到对方，而在进行中转时，会利用下一站中转设备的MAC地址来搜索下一个中转目标。这时，会采用ARP协议。该协议是一种用以解析地址的协议，根据通信方的IP地址就可以反查出对应的MAC地址。</li></ul></li></ol></div></section><section slide class=slide><div class=wrap wrap=true><ul><li>链路层/物理层： 处理连接网络的硬件部分。</li></ul><ol><li>网卡， 交换机，集线器</li></ol></div></section><section slide class=slide><div class=wrap wrap=true><p>总结， 发送端与接收端的流程： <img src=./img/2.png alt=width::800px></p></div></section><section slide class=slide><div class=wrap wrap=true><h1>问题：为什么采取分层管理？</h1></div></section><section slide class=slide><div class=wrap wrap=true><ol><li>各自独立，各司其职。</li><li>类似开发中的高内聚，低耦合。</li><li>大的问题拆分成小，并且小的问题，边界标准化，出现问题方便锁定。</li></ol></div></section><section slide class=slide><div class=wrap wrap=true><h2>问题2：从输入 URL 到页面展示到底发生了什么？</h2></div></section><section slide class=slide><div class=wrap wrap=true><p>1、输入地址</p><ul><li>URL的地址，比如 “http:://www.baidu.com/index.html?name=mo&amp;age=25#dowell”，在这个例子中可以看到URL的组成部分：</li><li>传输协议：http，https</li><li>Protocol ::// hostname[::port] /path /filename</li></ul></div></section><section slide class=slide><div class=wrap wrap=true><p>2、浏览器查找域名的 IP 地址</p><ul><li><img src=./img/8.png alt=width::800px></li><li>什么是DNS？</li><li>因特网上作为域名和IP地址相互映射的一个分布式数据库，能够使用户更方便的访问互联网，而不用去记住能够被机器直接读取的IP数串。DNS就相当于一个电话本，比如你要找http:://www.baidu.com这个域名，那我翻一翻我的电话本，我就知道，哦，它的电话（ip）是167.23.10.2。</li><li>递归解析:: 如果主机所询问的本地域名服务器不知道被查询的域名的IP地址，那么本地域名服务器就以DNS客户的身份，向其它根域名服务器继续发出查询请求报文(即替主机继续查询)，而不是让主机自己进行下一步查询。</li><li>迭代查询:: 当根域名服务器收到本地域名服务器发出的迭代查询请求报文时，要么给出所要查询的IP地址，要么告诉本地服务器：“你下一步应当向哪一个域名服务器进行查询”。然后让本地服务器进行后续的查询。</li></ul></div></section><section slide class=slide><div class=wrap wrap=true><p>3、浏览器向 web 服务器发送一个 HTTP 请求</p><h2>TCP的三次握⼿</h2><ul><li>三次握手</li><li>原因：为了准确无误地将数据送达目标处，TCP协议在发送数据的准备阶段采用了三次握手策略（若在握手过程中某个阶段中断，TCP协议会再次以相同的顺序发送相同的数据包）。</li><li><img src=./img/5.png alt=width::800px></li></ul></div></section><section slide class=slide><div class=wrap wrap=true><ul><li><img src=./img/2.png alt=width::800px></li></ul></div></section><section slide class=slide><div class=wrap wrap=true><h2>HTTP协议在TCP/IP 协议中的数据传输</h2><ul><li>在每个协议层下会封装发送者的信息，比如网络层的MAC地址，TCP层的</li><li>每⼀层中都会进⾏数据封装</li><li><img src=./img/3.png alt=width::800px></li></ul></div></section><section slide class=slide><div class=wrap wrap=true><ul><li><img src=./img/13.png alt=width::800px></li></ul></div></section><section slide class=slide><div class=wrap wrap=true><ul><li><img src=./img/4.png alt=width::800px></li><li>TCP属于传输层，提供可靠的字节流服务。 字节流服务是指：为了方便传输，将大块数据分割成以报文段为单位的数据包进行管理。 这就是为什么下载高清大图时，图片会一块一块地加载。</li></ul></div></section><section slide class=slide><div class=wrap wrap=true><h2>TCP的四次挥⼿</h2><ul><li>通俗的来说，两次握手就可以释放一端到另一端的 TCP 连接，完全释放连接一共需要四次握手。</li><li>举个例子：A 和 B 打电话，通话即将结束后，A 说 “我没啥要说的了”，B 回答 “我知道了”，于是 A 向 B 的连接释放了。但是 B 可能还会有要说的话，于是 B 可能又巴拉巴拉说了一通，最后 B 说“我说完了”，A 回答“知道了”，于是 B 向 A 的连接释放了，这样整个通话就结束了。</li><li><img src=./img/6.png alt=width::800px></li></ul></div></section><section slide class=slide><div class=wrap wrap=true><p>4、服务器的永久重定向响应</p><p>5、浏览器跟踪重定向地址</p><ul><li>现在浏览器知道了 http:://www.google.com/ 才是要访问的正确地址，所以它会发送另一个http请求。</li><li>重复 3</li></ul><p>6、服务器处理请求</p><p>7、服务器返回一个 HTTP 响应 8、浏览器显示 HTML 9、浏览器发送请求获取嵌入在 HTML 中的资源（如图片、音频、视频、CSS、JS等等）</p></div></section><section slide class=slide><div class=wrap wrap=true><h1>Thanks</h1></div></section></article></div><script>window.pluginsOptions = {}



    window.webslidesOptions = {}


document.addEventListener('DOMContentLoaded', () => {
    let isPrintMode = false;
    if(~location.search.indexOf('print-pdf')){
        isPrintMode = true;
        WebSlides.registerPlugin('scroll', function(){});
    }
    const wsOptions = {
        loop: false
    };
    if(window.webslidesOptions){
        for (let i in webslidesOptions){
            if(webslidesOptions.hasOwnProperty(i)){
                wsOptions[i] = webslidesOptions[i];
            }
        }
    }
    const ws = new WebSlides(wsOptions)

    window.wsInstance = ws;
    if(isPrintMode){
        ws.slides.forEach(s=>s.show())
    }
}, false)</script><script src=./js/chunk-vendors.js></script><script src=./js/slide1.js></script></body></html>